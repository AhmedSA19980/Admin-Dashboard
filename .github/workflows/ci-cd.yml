name: CI-CD Pipleline


on:
    push: 
        branches: [main]
    
    pull_request:
        branches: [main]



jobs:
    backend:
        runs-on: ubuntu-latest
        steps: 
            - uses:  actions/checkout@v4
  
            - name: Setup .NET
              uses:  actions/setup-dotnet@v3
              with:
                dotnet-version: 8.0.x


            - name: Restore
              run: dotnet restore backend/admin_dashboard_solution.sln

            - name: Build
              run: dotnet build backend/admin_dashboard_solution.sln --no-restore

            - name: Test
              run: dotnet test backend/admin_dashboard_solution.sln --no-build
        